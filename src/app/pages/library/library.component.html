<h1>Librairie</h1>

<section class="container">
  @for (book of books; track book.id) {
    <div class="card">
      <h2>
        <span [ngClass]="{'underline': book.isRead}">{{book.title}}</span>  {{book.isRead | thumb}}</h2>
      <p>-- {{book.author}}</p>
      <button (click)="toggleIsRead(book)">
        {{book.isRead ? 'vu' : 'pas vu'}}
      </button>
    </div>
  }
</section>

<section>
  <h2>Ajouter un livre</h2>

  <form (ngSubmit)="submitNewBook()">
    <p>
      <label for="title">Titre</label>
      <input id="title" name="title" [(ngModel)]="newBook.title">
      @if(titleHasError) {
        <small class="error">Veuillez entrer un titre</small>
      }
    </p>
    <p>
      <label for="author">Auteur.trice</label>
      <input id="author" name="author" [(ngModel)]="newBook.author"/>
      @if (authorHasError) {
        <small class="error">Veuillez entrer un.e auteur.trice</small>
      }
    </p>
    <p>
      <button>Enregistrer</button>
    </p>
  </form>
</section>

